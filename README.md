# Идея проекта "Где находится картина?"
**Где находится картина** -- это веб-приложение, позволяющее отслеживать, в каком музее находится та или иная известная картина, а также выставляется ли она прямо сейчас.
## Описание сущностей и ER-модель
- **Картина.** Основной объект во всей структуре, так как цель данного проекта по сути накапливать данные о картинах. Необходимо создать гибкую систему описания картин, поэтому картины имеют уникальный идентификатор, а также могут иметь название, одного или нескольких авторов, год создания и прикрепленную оцифрованную копию. Картины могут создавать и редактировать только сотрудники институций (музеев), поэтому, чтобы редактировать информацию о той или иной картине необходимо либо быть сотрудником музея и иметь права на редактирование или самому создать эту картину (в рамках какого-то музея). Таким образом, картина непосредственно связана с институцией, которой она принадлежит. Кроме того, в случае, если картина в данный момент экспонируется, об этом указывается информация в отдельном поле.
- **Автор.** Автор картины. Необходимо хранить информацию об авторе, поскольку это может облегчить поиск для пользователя.
- **Пользователь.** Представляет собой простой аккаунт с логином и паролем. Для расширения этой функциональности добавляется возможность отмечать понравившиеся картины, чтобы следить за тем, экспонируются ли они где-либо. Пользователь системы может создать музей, тогда его аккаунт пользователя привяжется к этому музею правами редактировать картины в этом музее, а также давать другим пользователям права от имени этого музея.
- **Права.** Необходимы для хранения данных о том, что может делать пользователь в рамках того или иного музея. У одного пользователя могут быть права в рамках нескольких музеев.
- **Музей.** Записи о музеях создаются пользователями и содержат базовую информацию о них. Музей может быть подтверждённым. Это означает, что информация, предоставленная музеем веб-приложению скорее всего достоверна. Подтверждённость музея задается вручную администратором базы данных, поскольку полагается, что подтверждение музея требует тщательной проверки, выходящей за рамки онлайн-взаимодействия.
![WhereToFindThePainting drawio](https://github.com/user-attachments/assets/0bcb21a6-784b-404a-9c1d-abfe6fcc40bf)

## Текущая структура API
*ВАЖНО: структура API будет уточняться в дальнейшем*
Метод	URL	Описание	Параметры	Формат ответа
GET	/hub	Получить список "картина-авторы-музей" по названию картины и параметру достоверности данных	{painting_name, only_approved}	200 OK: {[{<painting_info>, [<autor_info>], <museum_info>]}
GET	/hub	Получить список "картина-авторы-музей" по автору и параметру достоверности данных	{author_name, only_approved}	200 OK: {[{<painting_info>, [<autor_info>], <museum_info>]}
POST	/hub	Добавить картину в избранное	{login, painting_name}	201 Created
DELETE	/hub	Убрать картину из избранного	{login, painting_name}	204 No Content
POST	/login	Авторизация пользователя	{login, password}	200 OK: {Token}
POST	/register	Регистрация пользователя	{login, password}	201 Created: {login}
POST	/manager/register_museum	Регистрация нового музея	{museum_name, museum_website}	201 Created: {museum_id}
GET	/manager	Получение информации о правах	{login}	200 OK: {[museum_id, <rights>]}
GET	/manager/{museum_id}/paintings	Получение списка картин в музее	{museum_id}	200 OK: {[<painting_info>]}
POST	/manager/{museum_id}/paintings/create_painting	Создание новой картины	{museum_id, <поля информации о картине>}	200 OK: {<painting_info>}
PUT	/manager/{museum_id}/paintings/{painting_id}	Изменение картины	{museum_id, painting_id, <поля информации о картине>}	200 OK
DELETE	/manager/{museum_id}/paintings	Удаление картины	{museum_id, painting_id}	204 No Content
GET	/manager/{museum_id}/rights	Получение списка сотрудников музея и их прав	{museum_id}	200 OK: {[login, <rights>]}
POST	/manager/{museum_id}/add_user	Добавление сотрудника музея	{museum_id,new_user_login}	201 Created
PUT	/manager/{museum_id}/{login}	Изменение прав сотрудника музея	{museum_id, new_user_login, <обновленные права>}	200 OK
DELETE	/manager/{museum_id}/rights	Удаление сотрудника музея	{museum_id, user_to_remove_login}	204 No Content
![image](https://github.com/user-attachments/assets/bd5bd95e-178f-4cba-86ab-263760a47e16)



